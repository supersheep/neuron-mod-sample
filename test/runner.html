<html>
  <head>
    <title>Mocha</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="lib/mocha.css" />
    <script>var __loaderConfig={appBase:'./app',libBase:'./',server:'localhost:1234'};</script>
    <script src="./lib/neuron-active.js" type="text/javascript"></script>
    <script src="./lib/chai.js" type="text/javascript"></script>
    <script>DP.__loader.init()</script>
    <script src="./lib/mocha.js"></script>
  </head>
  <body>
    <div id="mocha"></div>
    <script>
    var NR=DP,
        assert = chai.assert;
        expect = chai.expect;
        chai.should();

    if(!window.PHANTOMJS){
      // let it be able to run in browser
      mocha.setup("bdd");
      start()
    }else{
      // the bridge.js will be injected after DOMContentLoad Event
      // our mocha.run must be triggerred after that
      window.onload = start;
    }

    // test start
    function start(){
      NR.provide(['test/spec/calculator'], function(NR,person){
        mocha.run();
      });
    }
    
        
    </script>
  </body>
</html>
